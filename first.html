async function claimBonus() {
    const claimBtn = document.getElementById('claimBtn');
    claimBtn.disabled = true;
    claimBtn.textContent = 'üîÑ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º...';
    try {
        const tg = window.Telegram.WebApp;
        const user = tg.initDataUnsafe?.user;
        const userId = user?.id;
        const data = {
            user_id: userId,
            miniapp: 'slot_machine_webapp',
            event: 'claim_bonus',
            coins: coins,
            last_result: lastResult,
            timestamp: new Date().toISOString(),
            source: 'telegram_miniapp',
            user_info: {
                id: user?.id,
                first_name: user?.first_name,
                last_name: user?.last_name,
                username: user?.username
            }
        };
        const response = await fetch('https://slavka-bot-webhook.minuales.workers.dev/', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
        });
        const result = await response.json();
        if (response.ok) {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º miniapp —á–µ—Ä–µ–∑ 3 —Å–µ–∫
            showResult('‚úÖ –ë–æ–Ω—É—Å —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram!');
            setTimeout(() => tg.close(), 3000);
        } else {
            throw new Error(`Worker –æ—à–∏–±–∫–∞: ${result.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`);
        }
    } catch (error) {
        showResult(`‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏: ${error.message}`);
        claimBtn.disabled = false;
        claimBtn.textContent = 'üéÅ –ó–∞–±—Ä–∞—Ç—å –±–æ–Ω—É—Å';
    }
}
